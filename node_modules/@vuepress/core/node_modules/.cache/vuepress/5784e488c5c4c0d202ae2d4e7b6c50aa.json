{"remainingRequest":"E:\\blog\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!E:\\blog\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\blog\\node_modules\\vuepress-theme-reco\\components\\Password.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\blog\\node_modules\\vuepress-theme-reco\\components\\Password.vue","mtime":1658663115369},{"path":"E:\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658663113483},{"path":"E:\\blog\\node_modules\\babel-loader\\lib\\index.js","mtime":1658663113704},{"path":"E:\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658663113483},{"path":"E:\\blog\\node_modules\\vue-loader\\lib\\index.js","mtime":1658663114507}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCByZWYsIHRvUmVmcyB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBtZDUgZnJvbSAnbWQ1JzsKaW1wb3J0IHsgUmVjb0ljb24gfSBmcm9tICdAdnVlcHJlc3MtcmVjby9jb3JlL2xpYi9jb21wb25lbnRzJzsKaW1wb3J0IHsgdXNlSW5zdGFuY2UgfSBmcm9tICdAdGhlbWUvaGVscGVycy9jb21wb3NhYmxlJzsKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBuYW1lOiAnUGFzc3dvcmQnLAogIGNvbXBvbmVudHM6IHsKICAgIFJlY29JY29uCiAgfSwKICBwcm9wczogewogICAgaXNQYWdlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKCiAgc2V0dXAocHJvcHMsIGN0eCkgewogICAgY29uc3QgaW5zdGFuY2UgPSB1c2VJbnN0YW5jZSgpOwogICAgY29uc3QgeWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTsKICAgIGNvbnN0IGtleSA9IHJlZignJyk7CiAgICBjb25zdCB3YXJuaW5nVGV4dCA9IHJlZignS29uY2shIEtub2NrIScpOwogICAgY29uc3QgewogICAgICBpc1BhZ2UKICAgIH0gPSB0b1JlZnMocHJvcHMpOwoKICAgIGNvbnN0IGlzSGFzS2V5ID0gKCkgPT4gewogICAgICBsZXQgewogICAgICAgIGtleXMKICAgICAgfSA9IGluc3RhbmNlLiR0aGVtZUNvbmZpZy5rZXlQYWdlOwogICAgICBrZXlzID0ga2V5cy5tYXAoaXRlbSA9PiBpdGVtLnRvTG93ZXJDYXNlKCkpOwogICAgICByZXR1cm4ga2V5cy5pbmRleE9mKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2tleScpKSA+IC0xOwogICAgfTsKCiAgICBjb25zdCBpc0hhc1BhZ2VLZXkgPSAoKSA9PiB7CiAgICAgIGNvbnN0IHBhZ2VLZXlzID0gaW5zdGFuY2UuJGZyb250bWF0dGVyLmtleXMubWFwKGl0ZW0gPT4gaXRlbS50b0xvd2VyQ2FzZSgpKTsKICAgICAgY29uc3QgcGFnZUtleSA9IGBwYWdlS2V5JHt3aW5kb3cubG9jYXRpb24ucGF0aG5hbWV9YDsKICAgICAgcmV0dXJuIHBhZ2VLZXlzICYmIHBhZ2VLZXlzLmluZGV4T2Yoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShwYWdlS2V5KSkgPiAtMTsKICAgIH07CgogICAgY29uc3QgaW50ZXIgPSAoKSA9PiB7CiAgICAgIGNvbnN0IGtleVZhbCA9IG1kNShrZXkudmFsdWUudHJpbSgpKTsKICAgICAgY29uc3QgcGFnZUtleSA9IGBwYWdlS2V5JHt3aW5kb3cubG9jYXRpb24ucGF0aG5hbWV9YDsKICAgICAgY29uc3Qga2V5TmFtZSA9IGlzUGFnZS52YWx1ZSA/IHBhZ2VLZXkgOiAna2V5JzsKICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShrZXlOYW1lLCBrZXlWYWwpOwogICAgICBjb25zdCBpc0tleVRydWUgPSBpc1BhZ2UudmFsdWUgPyBpc0hhc1BhZ2VLZXkoKSA6IGlzSGFzS2V5KCk7CgogICAgICBpZiAoIWlzS2V5VHJ1ZSkgewogICAgICAgIHdhcm5pbmdUZXh0LnZhbHVlID0gJ0tleSBFcnJvcic7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB3YXJuaW5nVGV4dC52YWx1ZSA9ICdLZXkgU3VjY2Vzcyc7CiAgICAgIGNvbnN0IHdpZHRoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveCcpLnN0eWxlLndpZHRoOwogICAgICBpbnN0YW5jZS4kcmVmcy5wYXNzd29yZEJ0bi5zdHlsZS53aWR0aCA9IGAke3dpZHRoIC0gMn1weGA7CiAgICAgIGluc3RhbmNlLiRyZWZzLnBhc3N3b3JkQnRuLnN0eWxlLm9wYWNpdHkgPSAxOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0sIDgwMCk7CiAgICB9OwoKICAgIGNvbnN0IGlucHV0Rm9jdXMgPSAoKSA9PiB7CiAgICAgIHdhcm5pbmdUZXh0LnZhbHVlID0gJ0lucHV0IFlvdXIgS2V5JzsKICAgIH07CgogICAgY29uc3QgaW5wdXRCbHVyID0gKCkgPT4gewogICAgICB3YXJuaW5nVGV4dC52YWx1ZSA9ICdLb25jayEgS25vY2shJzsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgd2FybmluZ1RleHQsCiAgICAgIHllYXIsCiAgICAgIGtleSwKICAgICAgaW50ZXIsCiAgICAgIGlucHV0Rm9jdXMsCiAgICAgIGlucHV0Qmx1cgogICAgfTsKICB9Cgp9KTs="},{"version":3,"names":["defineComponent","ref","toRefs","md5","RecoIcon","useInstance","name","components","props","isPage","type","Boolean","default","setup","ctx","instance","year","Date","getFullYear","key","warningText","isHasKey","keys","$themeConfig","keyPage","map","item","toLowerCase","indexOf","sessionStorage","getItem","isHasPageKey","pageKeys","$frontmatter","pageKey","window","location","pathname","inter","keyVal","value","trim","keyName","setItem","isKeyTrue","width","document","getElementById","style","$refs","passwordBtn","opacity","setTimeout","reload","inputFocus","inputBlur"],"sources":["E:/blog/node_modules/vuepress-theme-reco/components/Password.vue"],"sourcesContent":["\nimport { defineComponent, ref, toRefs } from 'vue'\nimport md5 from 'md5'\nimport { RecoIcon } from '@vuepress-reco/core/lib/components'\nimport { useInstance } from '@theme/helpers/composable'\n\nexport default defineComponent({\n  name: 'Password',\n  components: { RecoIcon },\n  props: {\n    isPage: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup (props, ctx) {\n    const instance = useInstance()\n\n    const year = new Date().getFullYear()\n\n    const key = ref('')\n    const warningText = ref('Konck! Knock!')\n    const { isPage } = toRefs(props)\n\n    const isHasKey = () => {\n      let { keys } = instance.$themeConfig.keyPage\n      keys = keys.map(item => item.toLowerCase())\n      return keys.indexOf(sessionStorage.getItem('key')) > -1\n    }\n    const isHasPageKey = () => {\n      const pageKeys = instance.$frontmatter.keys.map(item => item.toLowerCase())\n      const pageKey = `pageKey${window.location.pathname}`\n\n      return pageKeys && pageKeys.indexOf(sessionStorage.getItem(pageKey)) > -1\n    }\n\n    const inter = () => {\n      const keyVal = md5(key.value.trim())\n      const pageKey = `pageKey${window.location.pathname}`\n      const keyName = isPage.value ? pageKey : 'key'\n      sessionStorage.setItem(keyName, keyVal)\n      const isKeyTrue = isPage.value ? isHasPageKey() : isHasKey()\n      if (!isKeyTrue) {\n        warningText.value = 'Key Error'\n        return\n      }\n\n      warningText.value = 'Key Success'\n\n      const width = document.getElementById('box').style.width\n\n      instance.$refs.passwordBtn.style.width = `${width - 2}px`\n      instance.$refs.passwordBtn.style.opacity = 1\n\n      setTimeout(() => {\n        window.location.reload()\n      }, 800)\n    }\n\n    const inputFocus = () => {\n      warningText.value = 'Input Your Key'\n    }\n\n    const inputBlur = () => {\n      warningText.value = 'Konck! Knock!'\n    }\n\n    return { warningText, year, key, inter, inputFocus, inputBlur }\n  }\n})\n"],"mappings":"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"}]}